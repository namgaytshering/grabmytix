{% extends "../includes/base.html" %}
{% block content %}
  <!-- Page content -->
   
  <main class="content-wrapper w-100 px-3 ps-lg-5 pe-lg-4 mx-auto d-flex justify-content-center align-items-top"  >
    
    <div class="d-flex flex-column   w-100 py-4" style="max-width: 900px;">

      <h1 class="alert-heading">Register with us</h1>
      {% if form.errors %}
      <div class="alert alert-danger alert-dismissible col-12 mx-1" role="alert">
          <div id="form_errors">
              {% for key, value in form.errors.items %}
              <span class="fieldWrapper">
                  {{ key }}:{{ value }}
              </span>
              {% endfor %}
          </div>
          
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {%endif%}

      {% if messages %}
        {% for message in messages %}
        {% if message.tags == 'success' %}

        <div class="alert alert-primary alert-dismissible fade show" role="alert">
            {{message|safe}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {%else%}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{message|safe}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
      <!-- Form -->
     <form method="POST" class="needs-validation w-100" novalidate>
  {% csrf_token %}
  <div class="row">
    <div class="col-md-6">
      <div class="position-relative mb-4">
        <i class="ci-user position-absolute top-50 start-0 translate-middle-y ms-3"></i>
        {{ form.name }}
        <div class="invalid-tooltip bg-transparent py-0">Name</div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="position-relative mb-4">
        <i class="ci-phone position-absolute top-50 start-0 translate-middle-y ms-3"></i>
        {{ form.phone }}
        <div class="invalid-tooltip bg-transparent py-0">Name</div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="position-relative mb-4">
        <i class="ci-user position-absolute top-50 start-0 translate-middle-y ms-3"></i>
        {{ form.gender }}
        <div class="invalid-tooltip bg-transparent py-0">Name</div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="position-relative mb-4">
        <i class="ci-mail position-absolute top-50 start-0 translate-middle-y ms-3"></i>
        {{ form.email }}
        <div class="invalid-tooltip bg-transparent py-0">Enter a valid email address!</div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-4">
        <div class="password-toggle">
          <div class="invalid-tooltip bg-transparent py-0">Password is incorrect!</div>
          <label class="password-toggle-button fs-lg" aria-label="Show/hide password">
            <input type="checkbox" class="btn-check">
          </label>
          {{ form.password1 }}
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="mb-4">
        <div class="password-toggle">
          <div class="invalid-tooltip bg-transparent py-0">Password is incorrect!</div>
          <label class="password-toggle-button fs-lg" aria-label="Show/hide password">
            <input type="checkbox" class="btn-check">
          </label>
          {{ form.password2 }}
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="mb-4">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="validationText06" required>
          <label for="validationText06" class="form-check-label">
            <a href="/term_condition" target="_blank" class="text-decoration-none text-body"
               data-bs-container="body" data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="hover"
               title="Terms and Conditions" data-bs-content="Click to read Terms and Conditions.">
              Agree to terms and conditions
            </a>
          </label>
          <div class="invalid-feedback">You must agree before submitting. </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <button type="submit" class="btn w-100 btn-sm btn-danger animate-shake mt-3 mt-lg-0" href="#">
        <i class="ci-user-plus animate-target ms-n1 me-2"></i>
        Register
      </button>
    </div>
  </div>
  <div class="col-sm-10 p-2">
                                    {{form.captcha}}
                                </div>
</form>

      <div class="nav fs-sm mt-2">
     Already member, 
        <a class="nav-link text-decoration-underline p-0 ms-2" href="/login">Login</a>
      </div>


    </div>

    
  </main>
{% endblock %}
